"use strict";(self.webpackChunksocialnw_practice=self.webpackChunksocialnw_practice||[]).push([[285],{285:(s,e,t)=>{t.r(e),t.d(e,{default:()=>N});var i=t(101),o=t(596),r=t(791);const a="Profile_profile_content__ukjtw",n="Profile_profileInfo__EK+WX",l="Profile_statusBlock__guNyZ";var c=t(255),d=t(184);const u=s=>{const[e,t]=(0,r.useState)(!1),[i,o]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{o(s.status)}),[s.status]);return(0,d.jsx)("div",{className:l,children:e?(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:s=>{o(s.currentTarget.value)},value:i,autoFocus:!0,onBlur:()=>{t(!1),s.updateUserStatus(i)}})}):(0,d.jsx)("div",{children:(0,d.jsxs)("span",{onDoubleClick:()=>{t(!0)},children:[(0,d.jsx)("b",{children:" Status: "})," ",i||"No status"]})})})},h=s=>{let{contacts:e}=s;const t=Object.keys(e).map((s=>(0,d.jsx)("div",{children:e[s]&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("b",{children:[s," :"]})," ",e[s]]})},s)));return(0,d.jsx)("div",{children:t})};var p=t(705);const j=s=>{let{contacts:e}=s;const t=Object.keys(e),i=(0,p.TA)({initialValues:{facebook:"",website:"",vk:"",twitter:"",instagram:"",youtube:"",github:"",mainLink:""},onSubmit:s=>{console.log(s)}});return console.log(i.values),(0,d.jsx)("div",{children:(0,d.jsxs)("form",{onSubmit:i.handleSubmit,children:[t.map((s=>{var t;return(0,d.jsx)("div",{children:e[s]&&(0,d.jsx)("input",{placeholder:null===(t=e[s])||void 0===t?void 0:t.toString(),...i.getFieldProps(s)})},s)})),(0,d.jsx)("button",{type:"submit",children:"Submit"})]})})},x=s=>{let{profile:e,isOwner:t,status:i,updateUserStatus:o,saveUserPhotoTC:a}=s;const[l,p]=(0,r.useState)(!1);if(!e)return(0,d.jsx)(c.Z,{});return(0,d.jsx)("div",{className:n,children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{children:e.fullName}),(0,d.jsx)("img",{src:e.photos.large||e.photos.small||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRMx6nyE6BtBUpxyikA6w1afyKRpCc1M38QrA&usqp=CAU",alt:"ava not found"}),(0,d.jsx)(u,{updateUserStatus:o,status:i}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:" Looking for a job"})," : ",e.lookingForAJob?"Yes":"No"]}),e.lookingForAJob&&(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"My professional skills :"}),e.lookingForAJobDescription]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:" About me :"})," ",e.aboutMe]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{onClick:()=>p(!l),children:"Change"}),(0,d.jsx)("b",{children:" Contacts :"}),l?(0,d.jsx)(h,{contacts:e.contacts}):(0,d.jsx)(j,{contacts:e.contacts})]})]}),t&&(0,d.jsx)("input",{type:"file",onChange:s=>{var e;null!==(e=s.currentTarget.files)&&void 0!==e&&e.length&&a(s.currentTarget.files[0])}})]})})},g="MyPosts_myPostsBlock__y32Zt",v="MyPosts_posts_messages__+t-N7",b="helpers_addPostBlock__6ajDL",m=s=>{let{addPostAC:e}=s;const t=(0,p.TA)({initialValues:{postMessage:""},validate:s=>{if(s.postMessage.length<1)return{postMessage:"Must be a text"}},onSubmit:s=>{e(s.postMessage),t.resetForm()}});return(0,d.jsxs)("form",{onSubmit:t.handleSubmit,className:b,children:[t.errors.postMessage&&t.touched.postMessage&&(0,d.jsx)("div",{children:t.errors.postMessage}),(0,d.jsx)("textarea",{...t.getFieldProps("postMessage")}),(0,d.jsx)("button",{disabled:!!t.errors.postMessage,type:"submit",children:"Add post"})]})},f="Post_item__peiU2",C=s=>(0,d.jsxs)("div",{className:f,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{alt:"ava not found",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRMx6nyE6BtBUpxyikA6w1afyKRpCc1M38QrA&usqp=CAU"}),s.message]}),(0,d.jsx)("div",{children:(0,d.jsxs)("span",{children:["like ",s.likesCount]})})]}),P=s=>{let{profilePage:e,addPostAC:t}=s;return(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)("span",{children:"My posts"}),(0,d.jsx)(m,{addPostAC:t}),(0,d.jsx)("div",{className:v,children:e.posts.map((s=>(0,d.jsx)(C,{message:s.message,likesCount:s.likesCount},s.id)))})]})},k=r.memo(P);var _=t(50);const A={addPostAC:o.Pi},y=(0,_.qC)((0,i.$j)((s=>({profilePage:s.profilePage})),A))(k),M=s=>{let{userProfile:e,saveUserPhotoTC:t,isOwner:i,status:o,updateUserStatusTC:r}=s;return(0,d.jsxs)("div",{className:a,children:[(0,d.jsx)(x,{saveUserPhotoTC:t,isOwner:i,updateUserStatus:r,status:o,profile:e}),(0,d.jsx)(y,{})]})};var S=t(689);const U=i.I0,w={setUserProfileTC:o.bq,updateUserStatusTC:o.wM,saveUserPhotoTC:o.UJ},N=(0,_.qC)((0,i.$j)((s=>({userProfile:s.profilePage.profile,status:s.profilePage.status,isAuth:s.authReducer.isAuth})),w))((s=>{const{id:e}=(0,S.UO)(),t=U(),i=!e;return(0,r.useEffect)((()=>{t((0,o.bq)(e)),t((0,o.hd)(e))}),[e,t]),e||s.isAuth?(0,d.jsx)(M,{isOwner:i,...s}):(0,d.jsx)(S.Fg,{to:"/login"})}))}}]);
//# sourceMappingURL=285.3ca77465.chunk.js.map