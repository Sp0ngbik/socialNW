"use strict";(self.webpackChunksocialnw_practice=self.webpackChunksocialnw_practice||[]).push([[101],{828:(s,e,t)=>{t.r(e),t.d(e,{default:()=>U});var a=t(101),r=t(596),o=t(791);const i="Profile_profile_content__ukjtw",l="Profile_profileInfo__EK+WX",u="Profile_statusBlock__guNyZ";var n=t(255),d=t(184);const c=s=>{const[e,t]=(0,o.useState)(!1),[a,r]=(0,o.useState)(s.status);(0,o.useEffect)((()=>{r(s.status)}),[s.status]);return(0,d.jsx)("div",{className:u,children:e?(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:s=>{r(s.currentTarget.value)},value:a,autoFocus:!0,onBlur:()=>{t(!1),s.updateUserStatus(a)}})}):(0,d.jsx)("div",{children:(0,d.jsxs)("span",{onDoubleClick:()=>{t(!0)},children:["Status: ",a||"No status"]})})})},p=s=>{let{profile:e,status:t,updateUserStatus:a}=s;return e?(0,d.jsx)("div",{className:l,children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{children:e.fullName}),(0,d.jsx)("img",{src:e.photos.large||e.photos.small||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRMx6nyE6BtBUpxyikA6w1afyKRpCc1M38QrA&usqp=CAU",alt:"ava not found"}),(0,d.jsx)(c,{updateUserStatus:a,status:t})]})}):(0,d.jsx)(n.Z,{})},h="MyPosts_myPostsBlock__y32Zt",x="MyPosts_posts_messages__+t-N7";var j=t(705);const g="helpers_addPostBlock__6ajDL",f=s=>{let{addPostAC:e}=s;const t=(0,j.TA)({initialValues:{postMessage:""},validate:s=>{if(s.postMessage.length<1)return{postMessage:"Must be a text"}},onSubmit:s=>{e(s.postMessage),t.resetForm()}});return(0,d.jsxs)("form",{onSubmit:t.handleSubmit,className:g,children:[t.errors.postMessage&&t.touched.postMessage&&(0,d.jsx)("div",{children:t.errors.postMessage}),(0,d.jsx)("textarea",{...t.getFieldProps("postMessage")}),(0,d.jsx)("button",{disabled:!!t.errors.postMessage,type:"submit",children:"Add post"})]})},m="Post_item__peiU2",_=s=>(0,d.jsxs)("div",{className:m,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{alt:"ava not found",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRMx6nyE6BtBUpxyikA6w1afyKRpCc1M38QrA&usqp=CAU"}),s.message]}),(0,d.jsx)("div",{children:(0,d.jsxs)("span",{children:["like ",s.likesCount]})})]}),v=s=>{let{profilePage:e,addPostAC:t}=s;return(0,d.jsxs)("div",{className:h,children:[(0,d.jsx)("span",{children:"My posts"}),(0,d.jsx)(f,{addPostAC:t}),(0,d.jsx)("div",{className:x,children:e.posts.map((s=>(0,d.jsx)(_,{message:s.message,likesCount:s.likesCount},s.id)))})]})},P=o.memo(v);var C=t(50);const M={addPostAC:r.Pi},A=(0,C.qC)((0,a.$j)((s=>({profilePage:s.profilePage})),M))(P),b=s=>{let{userProfile:e,status:t,updateUserStatusTC:a}=s;return(0,d.jsxs)("div",{className:i,children:[(0,d.jsx)(p,{updateUserStatus:a,status:t,profile:e}),(0,d.jsx)(A,{})]})};var k=t(689);const y=a.I0,N={setUserProfileTC:r.bq,updateUserStatusTC:r.wM},U=(0,C.qC)((0,a.$j)((s=>({userProfile:s.profilePage.profile,status:s.profilePage.status,isAuth:s.authReducer.isAuth})),N))((s=>{let e=(0,k.UO)().id;const t=y();return(0,o.useEffect)((()=>{t((0,r.bq)(e)),t((0,r.hd)(e))}),[e,t]),e||s.isAuth?(0,d.jsx)(b,{...s}):(0,d.jsx)(k.Fg,{to:"/login"})}))}}]);
//# sourceMappingURL=101.20033fc6.chunk.js.map